<div class="labelJarPortlet"
     xmlns:tal="http://xml.zope.org/namespaces/tal"
     xmlns:i18n="http://xml.zope.org/namespaces/i18n"
     i18n:domain="ftw.labels">

    <h2 i18n:translate="labeljar_portlet_heading">Labels</h2>

    <div class="labelListing">
        <div class="labelItem" tal:repeat="label view/labels"
             tal:attributes="data-label-id label/label_id">
            <div tal:attributes="
                                 class string:labelColor labelcolor-${label/color};
                                 data-color label/color">
                &nbsp;
            </div>
            <span class="labelTitle" tal:content="label/title" />
            <a class="edit-label-link"
               tal:attributes="href string:${here/absolute_url}/labels-jar/edit_label?label_id=${label/label_id}">
                <img tal:attributes="src string:${here/portal_url}/++resource++ftw.labels/settings.png"
                     title="Change label" alt="Change label"
                     class="editLabelIcon"
                     i18n:attributes="title; alt"
                     tal:condition="view/can_edit" />
            </a>
            <div class="visualClear"><!-- --></div>
        </div>
    </div>

    <form id="create-label" method="POST"
          tal:attributes="action string:${here/absolute_url}/labels-jar/create"
          tal:condition="view/can_edit">
        <div class="new-label-label" i18n:translate="new-label-label">
            New Label
        </div>
        <input type="text" name="title" placeholder="Title"
               i18n:attributes="placeholder new_label_title_placeholder"/>
        <div class="colorChooser">
                <tal:colors repeat="color view/colors">
                    <div class="colorSet">
                        <div tal:attributes="class string:colorBox; data-color color/normal">
                            <div tal:attributes="class string:color labelcolor-${color/normal}">
                                &nbsp;
                            </div>
                        </div>
                        <div tal:attributes="class string:colorBox; data-color color/light">
                            <div tal:attributes="class string:color labelcolor-${color/light}">
                                &nbsp;
                            </div>
                        </div>
                        <div class="visualClear"><!-- --></div>
                    </div>
                </tal:colors>

        </div>
        <input type="hidden" name="color" placeholder="Color" />
        <input type="submit" value="Create label"
               i18n:attributes="value button_create_label" />
    </form>
</div>
